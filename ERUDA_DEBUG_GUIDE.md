# 🔧 Erudaデバッグツール 使い方ガイド

## 📱 このバージョンについて

このバージョンは**スマホでもJavaScriptのデバッグができる**特別版です。

### ✨ 追加機能
- **Eruda開発者ツール**を埋め込み済み
- 画面右下に小さな🛠️アイコンが表示されます
- タップするとPC版のChrome開発者ツールのような画面が開きます

---

## 🚀 使い方

### ステップ1: GitHub Pagesにアップロード

1. ダウンロードしたファイルをGitHub Pagesにアップロード
2. ファイル名を`index.html`にリネーム（または別名で公開）

### ステップ2: スマホでアクセス

GitHub PagesのURLを開く:
```
https://rinrin89.github.io/picking-list-ocr/
```

### ステップ3: Erudaツールを開く

1. 画面を読み込むと、**右下に小さな緑色の🛠️アイコン**が表示されます
2. このアイコンをタップ
3. 開発者ツールパネルが開きます

### ステップ4: Consoleタブを開く

1. パネル上部の「**Console**」タブをタップ
2. ここにすべてのログが表示されます

---

## 🔍 デバッグ情報の見方

### OCR実行すると、以下のようなログが表示されます:

```
=== parseOCRText START ===
Total lines: 250
Header info: {deliveryDate: '2025-12-20', clientName: '山新 錦店', ...}
Extracted products: 22 [{...}, {...}, ...]
=== displayProducts START ===
Products to display: 22
tbody element: <tbody id="productList"></tbody>
=== displayProducts END ===
=== parseOCRText END ===
```

### ✅ 正常な場合
- すべてのログが表示される
- エラーメッセージなし
- `Extracted products: 30` のように商品数が表示される

### ❌ エラーがある場合
- **赤文字**でエラーメッセージが表示される
- エラーの種類と行番号が表示される
- `displayProducts ERROR: ...` のようなメッセージ

---

## 📊 確認すべきポイント

### 1. 商品抽出数
```
Extracted products: 22
```
→ 本来30件のはず。22件しか取れていない場合は抽出ロジックに問題

### 2. 表示処理
```
=== displayProducts START ===
Products to display: 22
```
→ この後に商品が画面に表示されるはず

### 3. エラーメッセージ
赤文字で表示されるエラーがあれば、それをコピーして報告してください。

---

## 🐛 よくある問題

### 問題1: 商品リストが空
**症状**: テーブルは表示されるが、中身が空

**確認方法**:
1. Console タブを開く
2. `Products to display: 0` → データが取れていない
3. `Products to display: 22` だが画面は空 → 表示処理にエラー

### 問題2: 商品数が少ない
**症状**: 30件のはずが22件しか取れない

**確認方法**:
1. `Extracted products: 22` を確認
2. 実際の配列の中身を見る（展開できます）
3. どの商品が抜けているか確認

---

## 📸 スクリーンショットの撮り方

エラーが出たら:
1. Consoleタブのエラーメッセージが見えるようにスクロール
2. スクリーンショットを撮影
3. 報告時に共有

---

## 🎯 期待される動作

修正が成功していれば:
- ✅ 商品数: 30件
- ✅ エラーなし
- ✅ 商品リストが画面に表示される
- ✅ 合計数量が正しい

---

## 📝 報告テンプレート

デバッグ結果を報告する際は、以下の情報をお願いします:

```
【テスト結果】
1. 商品抽出数: __件
2. 画面表示: OK / NG
3. エラーメッセージ: あり / なし
4. Console ログ: （スクリーンショット添付）
```

---

**作成日**: 2025-12-25  
**バージョン**: v4.0.3-eruda  
**次のアクション**: GitHub Pagesにアップロードしてテスト
